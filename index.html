<!doctype html>
<html>
  <head>
    <title>Bandwidth Call Tracking</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="/style.css"/>
  </head>
  <body>
  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
          <div class="navbar-header">
              <a class="navbar-brand" href="/"><img class="logo" src="/logo-catapult.png"></a>
          </div>
      </div>
  </nav>
  <div class="container">
      <div class="starter-template">
          <h1 class="lead">Bandwidth Call Tracking Example</h1>
            <h2 class="lead" id="tn">(555)-555-5555</h2>
              <table class="table table-striped">
                <tr>
                <td>Number of Calls</td>
                <td>Last Caller</td>
                <td>Last Call Duration</td>
                </tr>
                <tr>
                <td id="numOfCalls1">0</td>
                <td id="caller1"></td>
                <td id="dur1">0 seconds</td>
                </tr>
              </table>
      </div>
  </div>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
      var socket = io();
      socket.on('numCalls1', function(numCalls){
        $('#numOfCalls1').text(numCalls);
      });
      socket.on('duration1', function(duration) {
        $('#dur1').text(duration + " seconds");
      });
      socket.on('caller1', function(caller) {
        $('#caller1').text(caller);
      });
      socket.on('tn', function(tn) {
        var number = "(" + tn.substring(2,5) + ")-" + tn.substring(5,8) + "-"+tn.substring(8);
        $('#tn').text(number);
      });
    </script>
  </body>
</html>